{"ast":null,"code":"var _jsxFileName = \"/home/user/dev/www/Block-chain/Block_chain_UI_Project/block_chain_Etherium_reactjs/src/smart_contract.js\";\nimport React, { Component } from 'react'; // import logo from './logo.svg';\n\nimport './App.css';\nimport web3 from './web3';\nimport lottery from './lottery'; // import ApartmentDetails from './'\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = async event => {\n      event.preventDefault();\n      const units_identifier = await lottery.methods.getUnit(this.state.value).call();\n      this.setState({\n        get_flats_visible: true,\n        Get_flats: units_identifier\n      });\n    };\n\n    this.onUnitSubmit = async event => {\n      event.preventDefault();\n      const units_identifier2 = await lottery.methods.unitNumbers(this.state.value2).call();\n      this.setState({\n        get_units_visible: true,\n        Get_units: units_identifier2\n      });\n    };\n\n    this.onSetUnitSubmit = async event => {\n      event.preventDefault();\n      const accounts = await web3.eth.getAccounts();\n      const contractor = await lottery.options.address;\n      const units_identifier2 = await lottery.methods.setUnitOwner(this.state.value3, this.state.value4, false, this.state.value5).send({\n        from: accounts[0],\n        to: contractor\n      });\n      this.setState({\n        set_unit_transaction_visible: true,\n        set_unit_transaction_hash: units_identifier2.transactionHash\n      });\n    };\n\n    this.onAssignTenantSubmit = async event => {\n      event.preventDefault();\n      const units_identifier = await lottery.methods.getUnit(this.state.value6).call();\n      const contractor = await lottery.options.address;\n      const Assign_tenant_data = await lottery.methods.AssignTenants(this.state.value6, this.state.value7).send({\n        from: units_identifier[1],\n        to: contractor\n      });\n      this.setState({\n        assign_unit_transaction_visible: true,\n        assign_unit_transaction_hash: Assign_tenant_data.transactionHash\n      });\n    };\n\n    this.state = {\n      manager: '',\n      Owner: '',\n      contractor_balance: '',\n      owner_balance: '',\n      contractor: '',\n      value: '',\n      value2: '',\n      value3: '',\n      value4: '',\n      value5: '',\n      apartment_numbers: '',\n      Get_units: {},\n      get_units_visible: false,\n      Get_flats: {},\n      get_flats_visible: false,\n      listItems: '',\n      set_unit_transaction_hash: '',\n      set_unit_transaction_visible: false,\n      assign_unit_transaction_visible: false,\n      assign_unit_transaction_hash: ''\n    };\n  }\n\n  async componentDidMount() {\n    // console.log(web3.eth.personal.getAccounts())\n    const account = await web3.eth.personal.getAccounts();\n    console.log(account);\n    const Owner = web3.givenProvider.selectedAddress;\n    const contractor = await lottery.options.address;\n    console.log(lottery);\n    const manager = await lottery.methods.contractOwnerAddress().call(); // .send({\n    //   from:account[0],\n    //   to:contractor\n    // });\n\n    console.log(\"manager\");\n    console.log(manager);\n    console.log(\"manager\");\n    const owner_balance = await web3.eth.getBalance(web3.givenProvider.selectedAddress);\n    const apartment_numbers = await lottery.methods.getApartments().call();\n    const listItems = apartment_numbers.map(number => React.createElement(\"li\", {\n      key: number.toString(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, number));\n    const contractor_balance = await web3.eth.getBalance(lottery.options.address);\n    this.setState({\n      manager,\n      Owner,\n      contractor_balance,\n      owner_balance,\n      contractor,\n      apartment_numbers,\n      listItems\n    });\n  }\n\n  render() {\n    const SET_UNIT_BASE_URL = \"https://rinkeby.etherscan.io/tx/\" + this.state.set_unit_transaction_hash;\n    const ASSIGN_UNIT_BASE_URL = \"https://rinkeby.etherscan.io/tx/\" + this.state.assign_unit_transaction_hash;\n    return React.createElement(\"div\", {\n      style: {\n        textAlign: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Current Account: \", this.state.Owner), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Contractor: \", this.state.contractor), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Owner Balance: \", this.state.owner_balance), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Contractor Balance: \", web3.utils.fromWei(this.state.contractor_balance, 'ether')), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Count Units: \", this.state.manager), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Apartment Assigned\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, this.state.listItems), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.onSetUnitSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Set Unit Owner\"), \"Flat_number: \", React.createElement(\"input\", {\n      value: this.state.value3,\n      onChange: event => this.setState({\n        value3: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), \"Owner Address: \", React.createElement(\"input\", {\n      value: this.state.value4,\n      onChange: event => this.setState({\n        value4: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), \"Amount: \", React.createElement(\"input\", {\n      value: this.state.value5,\n      type: \"number\",\n      onChange: event => this.setState({\n        value5: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Enter\"), this.state.set_unit_transaction_visible === true ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Transaction Hash:  \", this.state.set_unit_transaction_hash), React.createElement(\"a\", {\n      href: SET_UNIT_BASE_URL,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \" \", SET_UNIT_BASE_URL)) : null), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Get Flat Details\"), React.createElement(\"input\", {\n      value: this.state.value,\n      onChange: event => this.setState({\n        value: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), this.state.get_flats_visible === true ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Owner:  \", this.state.Get_flats[1]), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Tenant:  \", this.state.Get_flats[2]), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Amount:  \", this.state.Get_flats[4])) : null, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Enter\")), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.onUnitSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Get Particular Unit Id\"), React.createElement(\"input\", {\n      value: this.state.value2,\n      onChange: event => this.setState({\n        value2: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), this.state.get_units_visible === true ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Flat Number:  \", this.state.Get_units)) : null, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Enter\")), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.onAssignTenantSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Assign Tenants\"), \"Flat_number: \", React.createElement(\"input\", {\n      value: this.state.value6,\n      onChange: event => this.setState({\n        value6: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), \"Tenant Address: \", React.createElement(\"input\", {\n      value: this.state.value7,\n      onChange: event => this.setState({\n        value7: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Enter\"), this.state.assign_unit_transaction_visible === true ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Transaction Hash:  \", this.state.assign_unit_transaction_hash), React.createElement(\"a\", {\n      href: ASSIGN_UNIT_BASE_URL,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \" \", ASSIGN_UNIT_BASE_URL)) : null), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }));\n  }\n\n} // function App() {\n//   console.log(web3.version);\n//   web3.eth.getAccounts().then(console.log)\n//   return (\n//     <div className=\"App\">\n//       <header className=\"App-header\">\n//         <img src={logo} className=\"App-logo\" alt=\"logo\" />\n//         <p>\n//           Edit <code>src/App.js</code> and save to reload.\n//         </p>\n//         <a\n//           className=\"App-link\"\n//           href=\"https://reactjs.org\"\n//           target=\"_blank\"\n//           rel=\"noopener noreferrer\"\n//         >\n//           Learn React\n//         </a>\n//       </header>\n//     </div>\n//   );\n// }\n\n\nexport default App;","map":{"version":3,"sources":["/home/user/dev/www/Block-chain/Block_chain_UI_Project/block_chain_Etherium_reactjs/src/smart_contract.js"],"names":["React","Component","web3","lottery","App","constructor","props","onSubmit","event","preventDefault","units_identifier","methods","getUnit","state","value","call","setState","get_flats_visible","Get_flats","onUnitSubmit","units_identifier2","unitNumbers","value2","get_units_visible","Get_units","onSetUnitSubmit","accounts","eth","getAccounts","contractor","options","address","setUnitOwner","value3","value4","value5","send","from","to","set_unit_transaction_visible","set_unit_transaction_hash","transactionHash","onAssignTenantSubmit","value6","Assign_tenant_data","AssignTenants","value7","assign_unit_transaction_visible","assign_unit_transaction_hash","manager","Owner","contractor_balance","owner_balance","apartment_numbers","listItems","componentDidMount","account","personal","console","log","givenProvider","selectedAddress","contractOwnerAddress","getBalance","getApartments","map","number","toString","render","SET_UNIT_BASE_URL","ASSIGN_UNIT_BASE_URL","textAlign","utils","fromWei","target"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import logo from './logo.svg';\nimport './App.css';\nimport web3 from './web3';\nimport lottery from './lottery';\n// import ApartmentDetails from './'\nclass App extends Component{\n\n  constructor(props){\n    super(props);\n    \n    this.state ={manager:'', Owner:'',contractor_balance:'',owner_balance:'',contractor:'', value:'',value2:'',value3:'',value4:'',value5:'',apartment_numbers:'',Get_units:{},get_units_visible:false, Get_flats:{},get_flats_visible:false,listItems:'',set_unit_transaction_hash:'',set_unit_transaction_visible:false, assign_unit_transaction_visible:false,\n    assign_unit_transaction_hash:''}\n  }\n\n  async componentDidMount(){\n    // console.log(web3.eth.personal.getAccounts())\n    const account = await web3.eth.personal.getAccounts()\n    console.log(account)\n    const Owner = web3.givenProvider.selectedAddress;\n    const contractor =  await lottery.options.address;\n    console.log(lottery)\n    const manager =  await lottery.methods.contractOwnerAddress()\n    .call()\n    // .send({\n    //   from:account[0],\n    //   to:contractor\n    // });\n    console.log(\"manager\")\n    console.log(manager)\n    console.log(\"manager\")\n    const owner_balance = await web3.eth.getBalance(web3.givenProvider.selectedAddress);\n\n    const apartment_numbers = await lottery.methods.getApartments().call();\n    const listItems = apartment_numbers.map((number) =>\n      <li key={number.toString()}>\n        {number}\n      </li>\n    );\n    const contractor_balance = await web3.eth.getBalance(lottery.options.address);\n    this.setState({\n      manager,\n      Owner,\n      contractor_balance,\n      owner_balance,\n      contractor,\n      apartment_numbers,\n      listItems\n    })\n  }\n\n  onSubmit = async (event) => {\n    event.preventDefault();\n    const units_identifier = await lottery.methods.getUnit(this.state.value).call();\n    this.setState({\n      get_flats_visible:true,\n      Get_flats :units_identifier\n    })\n  }\n\n  onUnitSubmit= async (event) => {\n    event.preventDefault();\n    const units_identifier2 = await lottery.methods.unitNumbers(this.state.value2).call();\n    this.setState({\n      get_units_visible:true,\n      Get_units :units_identifier2\n    })\n  }\n\n  onSetUnitSubmit= async (event) => {\n    event.preventDefault();\n    const accounts = await web3.eth.getAccounts()\n    const contractor =  await lottery.options.address;\n    const units_identifier2 = await lottery.methods.setUnitOwner(this.state.value3, this.state.value4, false, this.state.value5).send({\n        from:accounts[0],\n        to:contractor\n      });\n\n    this.setState({\n      set_unit_transaction_visible:true,\n      set_unit_transaction_hash:units_identifier2.transactionHash\n    })\n  }\n  onAssignTenantSubmit = async (event) => {\n    event.preventDefault();\n    \n    const units_identifier = await lottery.methods.getUnit(this.state.value6).call();\n    const contractor =  await lottery.options.address;\n\n    const Assign_tenant_data = await lottery.methods.AssignTenants(this.state.value6, this.state.value7).send({\n      from:units_identifier[1],\n      to:contractor\n    })\n    this.setState({\n      assign_unit_transaction_visible:true,\n      assign_unit_transaction_hash:Assign_tenant_data.transactionHash\n    })\n  }\n  render(){\n    const SET_UNIT_BASE_URL = \"https://rinkeby.etherscan.io/tx/\" + this.state.set_unit_transaction_hash;\n    const ASSIGN_UNIT_BASE_URL = \"https://rinkeby.etherscan.io/tx/\" + this.state.assign_unit_transaction_hash;\n    return (\n      <div style={{textAlign:\"left\"}}>\n        <h2>Current Account: {this.state.Owner}</h2>\n        <h2>Contractor: {this.state.contractor}</h2>\n        <h2>Owner Balance: {this.state.owner_balance}</h2>\n        <h2>Contractor Balance: {web3.utils.fromWei(this.state.contractor_balance, 'ether')}</h2>\n        <h2>Count Units: {this.state.manager}</h2>\n        <h2>Apartment Assigned</h2>\n        <ul>\n        {this.state.listItems}\n        </ul>\n        <hr />\n        <form onSubmit={this.onSetUnitSubmit}>\n          <h2>Set Unit Owner</h2>\n          Flat_number: <input\n            value={this.state.value3}\n            onChange={event => this.setState({ value3: event.target.value})}\n          />\n          Owner Address: <input\n            value={this.state.value4}\n            onChange={event => this.setState({ value4: event.target.value})}\n          />\n          Amount: <input\n            value={this.state.value5}\n            type=\"number\"\n            onChange={event => this.setState({ value5: event.target.value})}\n          />\n          <p></p>\n          <button>Enter</button>\n          {this.state.set_unit_transaction_visible === true? \n          <div> \n            <p>Transaction Hash:  {this.state.set_unit_transaction_hash}</p>\n            <a href={SET_UNIT_BASE_URL}> {SET_UNIT_BASE_URL}</a>\n            {/* <p>Tenant:  {this.state.Get_units[2]}</p>\n            <p>Flat_number:  {this.state.Get_units[4]}</p> */}\n          </div>:null}\n        </form>\n        <hr/>\n        \n        <form onSubmit={this.onSubmit}>\n          <h2>Get Flat Details</h2>\n          <input\n            value={this.state.value}\n            onChange={event => this.setState({ value: event.target.value})}\n          />\n          {this.state.get_flats_visible === true ? \n          <div> \n            <p>Owner:  {this.state.Get_flats[1]}</p>\n            <p>Tenant:  {this.state.Get_flats[2]}</p>\n            <p>Amount:  {this.state.Get_flats[4]}</p>\n          </div>:null}\n          <button>Enter</button>\n        </form>\n        <hr/>\n        <form onSubmit={this.onUnitSubmit}>\n          <h2>Get Particular Unit Id</h2>\n          <input\n            value={this.state.value2}\n            onChange={event => this.setState({ value2: event.target.value})}\n          />\n          {this.state.get_units_visible === true ? \n          <div> \n            <p>Flat Number:  {this.state.Get_units}</p>\n            {/* <p>Tenant:  {this.state.Get_units[2]}</p>\n            <p>Flat_number:  {this.state.Get_units[4]}</p> */}\n          </div>:null}\n          <button>Enter</button>\n        </form>\n        <hr/>\n        <form onSubmit={this.onAssignTenantSubmit}>\n          <h2>Assign Tenants</h2>\n          Flat_number: <input\n            value={this.state.value6}\n            onChange={event => this.setState({ value6: event.target.value})}\n          />\n          Tenant Address: <input\n            value={this.state.value7}\n            onChange={event => this.setState({ value7: event.target.value})}\n          />\n          <p></p>\n          <button>Enter</button>\n          {this.state.assign_unit_transaction_visible === true? \n          <div> \n            <p>Transaction Hash:  {this.state.assign_unit_transaction_hash}</p>\n            <a href={ASSIGN_UNIT_BASE_URL}> {ASSIGN_UNIT_BASE_URL}</a>\n            {/* <p>Tenant:  {this.state.Get_units[2]}</p>\n            <p>Flat_number:  {this.state.Get_units[4]}</p> */}\n          </div>:null}\n        </form>\n        <hr/>\n      </div>\n    );\n  }\n}\n// function App() {\n//   console.log(web3.version);\n//   web3.eth.getAccounts().then(console.log)\n//   return (\n//     <div className=\"App\">\n//       <header className=\"App-header\">\n//         <img src={logo} className=\"App-logo\" alt=\"logo\" />\n//         <p>\n//           Edit <code>src/App.js</code> and save to reload.\n//         </p>\n//         <a\n//           className=\"App-link\"\n//           href=\"https://reactjs.org\"\n//           target=\"_blank\"\n//           rel=\"noopener noreferrer\"\n//         >\n//           Learn React\n//         </a>\n//       </header>\n//     </div>\n//   );\n// }\n\nexport default App;"]},"metadata":{},"sourceType":"module"}